(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7489002"],{"65de":function(e,t,a){},"71b6":function(e,t,a){e.exports=a.p+"static/img/kong.effef897.png"},9332:function(e,t,a){"use strict";a("65de")},acea:function(e,t,a){
/**
 * @license jCanvas v21.0.1
 * Copyright 2017 Caleb Evans
 * Released under the MIT license
 */
(function(t,a,n){"use strict";"object"===typeof e.exports?e.exports=function(e,t){return n(e,t)}:n(t,a)})("undefined"!==typeof window?window.jQuery:{},"undefined"!==typeof window?window:this,(function(e,t){"use strict";var a,n=t.document,i=t.Image,s=t.Array,r=t.getComputedStyle,o=t.Math,l=t.Number,c=t.parseFloat,g=e.extend,u=e.inArray,h=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},d=e.isPlainObject,m=o.PI,f=o.round,p=o.abs,v=o.sin,y=o.cos,w=o.atan2,x=s.prototype.slice,b=e.event.fix,L={},T={dataCache:{},propCache:{},imageCache:{}},I={rotate:0,scaleX:1,scaleY:1,translateX:0,translateY:0,masks:[]},C={},_=["mousedown","mousemove","mouseup","mouseover","mouseout","touchstart","touchmove","touchend"];function k(e){var t,a=this;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a}var S={events:{},eventHooks:{},future:{}};function P(){g(this,P.baseDefaults)}function N(e){return"string"===h(e)}function D(e){return"function"===h(e)}function z(e){return!isNaN(l(e))&&!isNaN(c(e))}function O(e){return e&&e.getContext?e.getContext("2d"):null}function R(e){var t,a,n;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n=e[t],a=h(n),"string"===a&&z(n)&&"text"!==t&&(e[t]=c(n)));void 0!==e.text&&(e.text=String(e.text))}function A(e){return e=g({},e),e.masks=e.masks.slice(0),e}function E(e,t){var a;e.save(),a=A(t.transforms),t.savedTransforms.push(a)}function X(e,t){0===t.savedTransforms.length?t.transforms=A(I):(e.restore(),t.transforms=t.savedTransforms.pop())}function W(e,t,a,n){a[n]&&(D(a[n])?t[n]=a[n].call(e,a):t[n]=a[n])}function Y(e,t,a){W(e,t,a,"fillStyle"),W(e,t,a,"strokeStyle"),t.lineWidth=a.strokeWidth,a.rounded?t.lineCap=t.lineJoin="round":(t.lineCap=a.strokeCap,t.lineJoin=a.strokeJoin,t.miterLimit=a.miterLimit),a.strokeDash||(a.strokeDash=[]),t.setLineDash&&t.setLineDash(a.strokeDash),t.webkitLineDash=a.strokeDash,t.lineDashOffset=t.webkitLineDashOffset=t.mozDashOffset=a.strokeDashOffset,t.shadowOffsetX=a.shadowX,t.shadowOffsetY=a.shadowY,t.shadowBlur=a.shadowBlur,t.shadowColor=a.shadowColor,t.globalAlpha=a.opacity,t.globalCompositeOperation=a.compositing,a.imageSmoothing&&(t.imageSmoothingEnabled=a.imageSmoothing)}function H(e,t,a){a.mask&&(a.autosave&&E(e,t),e.clip(),t.transforms.masks.push(a._args))}function $(e,t){t._transformed&&e.restore()}function j(e,t,a){var n;a.closed&&t.closePath(),a.shadowStroke&&0!==a.strokeWidth?(t.stroke(),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.stroke()):(t.fill(),"transparent"!==a.fillStyle&&(t.shadowColor="transparent"),0!==a.strokeWidth&&t.stroke()),a.closed||t.closePath(),$(t,a),a.mask&&(n=V(e),H(t,n,a))}function B(e,t,a,n,i){a._toRad=a.inDegrees?m/180:1,a._transformed=!0,t.save(),a.fromCenter||a._centered||void 0===n||(void 0===i&&(i=n),a.x+=n/2,a.y+=i/2,a._centered=!0),a.rotate&&ye(t,a,null),1===a.scale&&1===a.scaleX&&1===a.scaleY||we(t,a,null),(a.translate||a.translateX||a.translateY)&&xe(t,a,null)}function V(t){var a,n=T.dataCache;return n._canvas===t&&n._data?a=n._data:(a=e.data(t,"jCanvas"),a||(a={canvas:t,layers:[],layer:{names:{},groups:{}},eventHooks:{},intersecting:[],lastIntersected:null,cursor:e(t).css("cursor"),drag:{layer:null,dragging:!1},event:{type:null,x:null,y:null},events:{},transforms:A(I),savedTransforms:[],animating:!1,animated:null,pixelRatio:1,scaled:!1,redrawOnMousemove:!1},e.data(t,"jCanvas",a)),n._canvas=t,n._data=a),a}function G(e,t,a){var n;for(n in S.events)Object.prototype.hasOwnProperty.call(S.events,n)&&(a[n]||a.cursors&&a.cursors[n])&&F(e,t,a,n);t.events.mouseout||(e.bind("mouseout.jCanvas",(function(){var a,n=t.drag.layer;for(n&&(t.drag={},ie(e,t,n,"dragcancel")),a=0;a<t.layers.length;a+=1)n=t.layers[a],n._hovered&&e.triggerLayerEvent(t.layers[a],"mouseout");e.drawLayers()})),t.events.mouseout=!0)}function M(e,t,a,n){S.events[n](e,t),a._event=!0}function F(e,t,a,n){M(e,t,a,n),"mouseover"!==n&&"mouseout"!==n&&"mousemove"!==n||(t.redrawOnMousemove=!0)}function U(e,t,a){var n,i,s;if(a.draggable||a.cursors){for(n=["mousedown","mousemove","mouseup"],s=0;s<n.length;s+=1)i=n[s],M(e,t,a,i);a._event=!0}}function J(e,t,a,n){var i=t.layer.names;n?void 0!==n.name&&N(a.name)&&a.name!==n.name&&delete i[a.name]:n=a,N(n.name)&&(i[n.name]=a)}function q(e,t,a,n){var i,s,r,o,l,c=t.layer.groups;if(n){if(void 0!==n.groups&&null!==a.groups)for(r=0;r<a.groups.length;r+=1)if(s=a.groups[r],i=c[s],i){for(l=0;l<i.length;l+=1)if(i[l]===a){o=l,i.splice(l,1);break}0===i.length&&delete c[s]}}else n=a;if(void 0!==n.groups&&null!==n.groups)for(r=0;r<n.groups.length;r+=1)s=n.groups[r],i=c[s],i||(i=c[s]=[],i.name=s),void 0===o&&(o=i.length),i.splice(o,0,a)}function Z(e){var t,a,n,i;for(t=null,a=e.intersecting.length-1;a>=0;a-=1)if(t=e.intersecting[a],t._masks){for(i=t._masks.length-1;i>=0;i-=1)if(n=t._masks[i],!n.intersects){t.intersects=!1;break}if(t.intersects&&!t.intangible)break}return t&&t.intangible&&(t=null),t}function Q(e,t,a,n){a&&a.visible&&a._method&&(a._next=n||null,a._method&&a._method.call(e,a))}function K(e,t,a){var n,i,s,r,o,l,c,g,u,h;if(r=t.drag,i=r.layer,o=i&&i.dragGroups||[],n=t.layers,"mousemove"===a||"touchmove"===a){if(r.dragging||(r.dragging=!0,i.dragging=!0,i.bringToFront&&(n.splice(i.index,1),i.index=n.push(i)),i._startX=i.x,i._startY=i.y,i._endX=i._eventX,i._endY=i._eventY,ie(e,t,i,"dragstart")),r.dragging)for(u=i._eventX-(i._endX-i._startX),h=i._eventY-(i._endY-i._startY),i.updateDragX&&(u=i.updateDragX.call(e[0],i,u)),i.updateDragY&&(h=i.updateDragY.call(e[0],i,h)),i.dx=u-i.x,i.dy=h-i.y,"y"!==i.restrictDragToAxis&&(i.x=u),"x"!==i.restrictDragToAxis&&(i.y=h),ie(e,t,i,"drag"),g=0;g<o.length;g+=1)if(c=o[g],l=t.layer.groups[c],i.groups&&l)for(s=0;s<l.length;s+=1)l[s]!==i&&("y"!==i.restrictDragToAxis&&"y"!==l[s].restrictDragToAxis&&(l[s].x+=i.dx),"x"!==i.restrictDragToAxis&&"x"!==l[s].restrictDragToAxis&&(l[s].y+=i.dy))}else"mouseup"!==a&&"touchend"!==a||(r.dragging&&(i.dragging=!1,r.dragging=!1,t.redrawOnMousemove=t.originalRedrawOnMousemove,ie(e,t,i,"dragstop")),t.drag={})}function ee(t,a,n){var i;a.cursors&&(i=a.cursors[n]),-1!==e.inArray(i,C.cursors)&&(i=C.prefix+i),i&&t.css({cursor:i})}function te(e,t){e.css({cursor:t.cursor})}function ae(e,t,a,n,i){n[a]&&t._running&&!t._running[a]&&(t._running[a]=!0,n[a].call(e[0],t,i),t._running[a]=!1)}function ne(t,a){return!t.disableEvents&&(!t.intangible||-1===e.inArray(a,_))}function ie(e,t,a,n,i){ne(a,n)&&("mouseout"!==n&&ee(e,a,n),ae(e,a,n,a,i),ae(e,a,n,t.eventHooks,i),ae(e,a,n,S.eventHooks,i))}function se(t,a,n,i){var s,r,o,l=a._layer?n:a;return a._args=n,(a.draggable||a.dragGroups)&&(a.layer=!0,a.draggable=!0),a._method||(i?a._method=i:a.method?a._method=e.fn[a.method]:a.type&&(a._method=e.fn[L.drawings[a.type]])),a.layer&&!a._layer?(s=e(t),r=V(t),o=r.layers,(null===l.name||N(l.name)&&void 0===r.layer.names[l.name])&&(R(a),l=new k(a),l.canvas=t,l.layer=!0,l._layer=!0,l._running={},null!==l.data?l.data=g({},l.data):l.data={},null!==l.groups?l.groups=l.groups.slice(0):l.groups=[],J(s,r,l),q(s,r,l),G(s,r,l),U(s,r,l),a._event=l._event,l._method===e.fn.drawText&&s.measureText(l),null===l.index&&(l.index=o.length),o.splice(l.index,0,l),a._args=l,ie(s,r,l,"add"))):a.layer||R(a),l}function re(e){var t,a;for(a=0;a<C.props.length;a+=1)t=C.props[a],e[t]=e["_"+t]}function oe(e,t){var a,n;for(n=0;n<C.props.length;n+=1)a=C.props[n],void 0!==e[a]&&(e["_"+a]=e[a],C.propsObj[a]=!0,t&&delete e[a])}function le(e,t,a){var n,i,s,r;for(n in a)if(Object.prototype.hasOwnProperty.call(a,n)&&(i=a[n],D(i)&&(a[n]=i.call(e,t,n)),"object"===h(i)&&d(i))){for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r=i[s],void 0!==t[n]&&(t[n+"."+s]=t[n][s],a[n+"."+s]=r));delete a[n]}return a}function ce(e){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&-1!==t.indexOf(".")&&delete e[t]}function ge(t){var a,i,s=[],r=1;return"transparent"===t?t="rgba(0, 0, 0, 0)":t.match(/^([a-z]+|#[0-9a-f]+)$/gi)&&(i=n.head,a=i.style.color,i.style.color=t,t=e.css(i,"color"),i.style.color=a),t.match(/^rgb/gi)&&(s=t.match(/(\d+(\.\d+)?)/gi),t.match(/%/gi)&&(r=2.55),s[0]*=r,s[1]*=r,s[2]*=r,void 0!==s[3]?s[3]=c(s[3]):s[3]=1),s}function ue(e){var t,a=3;for("array"!==h(e.start)&&(e.start=ge(e.start),e.end=ge(e.end)),e.now=[],1===e.start[3]&&1===e.end[3]||(a=4),t=0;t<a;t+=1)e.now[t]=e.start[t]+(e.end[t]-e.start[t])*e.pos,t<3&&(e.now[t]=f(e.now[t]));1!==e.start[3]||1!==e.end[3]?e.now="rgba("+e.now.join(",")+")":(e.now.slice(0,3),e.now="rgb("+e.now.join(",")+")"),e.elem.nodeName?e.elem.style[e.prop]=e.now:e.elem[e.prop]=e.now}function he(t){var a;for(a=0;a<t.length;a+=1)e.fx.step[t[a]]=ue}function de(e){return L.touchEvents[e]&&(e=L.touchEvents[e]),e}function me(e){return L.mouseEvents[e]&&(e=L.mouseEvents[e]),e}function fe(e){S.events[e]=function(t,a){var n,i,s;function r(e){s.x=e.offsetX,s.y=e.offsetY,s.type=n,s.event=e,("mousemove"!==e.type||a.redrawOnMousemove||a.drag.dragging)&&t.drawLayers({resetFire:!0}),e.preventDefault()}s=a.event,n="mouseover"===e||"mouseout"===e?"mousemove":e,i=de(n),a.events[n]||(i!==n?t.bind(n+".jCanvas "+i+".jCanvas",r):t.bind(n+".jCanvas",r),a.events[n]=!0)}}function pe(e){var t;for(t=0;t<e.length;t+=1)fe(e[t])}function ve(e,t,a){var n,i,s,r,o,l,c,g;n=a._args,n&&(i=V(e),s=i.event,null!==s.x&&null!==s.y&&(l=s.x*i.pixelRatio,c=s.y*i.pixelRatio,r=t.isPointInPath(l,c)||t.isPointInStroke&&t.isPointInStroke(l,c)),o=i.transforms,n.eventX=s.x,n.eventY=s.y,n.event=s.event,g=i.transforms.rotate,l=n.eventX,c=n.eventY,0!==g?(n._eventX=l*y(-g)-c*v(-g),n._eventY=c*y(-g)+l*v(-g)):(n._eventX=l,n._eventY=c),n._eventX/=o.scaleX,n._eventY/=o.scaleY,r&&i.intersecting.push(n),n.intersects=Boolean(r))}function ye(e,t,a){t._toRad=t.inDegrees?m/180:1,e.translate(t.x,t.y),e.rotate(t.rotate*t._toRad),e.translate(-t.x,-t.y),a&&(a.rotate+=t.rotate*t._toRad)}function we(e,t,a){1!==t.scale&&(t.scaleX=t.scaleY=t.scale),e.translate(t.x,t.y),e.scale(t.scaleX,t.scaleY),e.translate(-t.x,-t.y),a&&(a.scaleX*=t.scaleX,a.scaleY*=t.scaleY)}function xe(e,t,a){t.translate&&(t.translateX=t.translateY=t.translate),e.translate(t.translateX,t.translateY),a&&(a.translateX+=t.translateX,a.translateY+=t.translateY)}function be(e){while(e<0)e+=2*m;return e}function Le(e,t){return e.x+e.radius*y(t)}function Te(e,t){return e.y+e.radius*v(t)}function Ie(e,t,a,n){var i,s,r,o,l,c,g,u,h,d,f;a===n?(h=0,d=0):(h=a.x,d=a.y),n.inDegrees||360!==n.end||(n.end=2*m),n.start*=a._toRad,n.end*=a._toRad,n.start-=m/2,n.end-=m/2,f=m/180,n.ccw&&(f*=-1),i=Le(n,n.start+f),s=Te(n,n.start+f),r=Le(n,n.start),o=Te(n,n.start),_e(e,t,a,n,i,s,r,o),t.arc(n.x+h,n.y+d,n.radius,n.start,n.end,n.ccw),l=Le(n,n.end+f),c=Te(n,n.end+f),g=Le(n,n.end),u=Te(n,n.end),ke(e,t,a,n,g,u,l,c)}function Ce(e,t,a,n,i,s,r,o){var l,c,g,u,h,d,f;n.arrowRadius&&!a.closed&&(f=w(o-s,r-i),f-=m,h=a.strokeWidth*y(f),d=a.strokeWidth*v(f),l=r+n.arrowRadius*y(f+n.arrowAngle/2),c=o+n.arrowRadius*v(f+n.arrowAngle/2),g=r+n.arrowRadius*y(f-n.arrowAngle/2),u=o+n.arrowRadius*v(f-n.arrowAngle/2),t.moveTo(l-h,c-d),t.lineTo(r-h,o-d),t.lineTo(g-h,u-d),t.moveTo(r-h,o-d),t.lineTo(r+h,o+d),t.moveTo(r,o))}function _e(e,t,a,n,i,s,r,o){n._arrowAngleConverted||(n.arrowAngle*=a._toRad,n._arrowAngleConverted=!0),n.startArrow&&Ce(e,t,a,n,i,s,r,o)}function ke(e,t,a,n,i,s,r,o){n._arrowAngleConverted||(n.arrowAngle*=a._toRad,n._arrowAngleConverted=!0),n.endArrow&&Ce(e,t,a,n,i,s,r,o)}function Se(e,t,a,n){var i,s,r;i=2,_e(e,t,a,n,n.x2+a.x,n.y2+a.y,n.x1+a.x,n.y1+a.y),void 0!==n.x1&&void 0!==n.y1&&t.moveTo(n.x1+a.x,n.y1+a.y);while(1){if(s=n["x"+i],r=n["y"+i],void 0===s||void 0===r)break;t.lineTo(s+a.x,r+a.y),i+=1}i-=1,ke(e,t,a,n,n["x"+(i-1)]+a.x,n["y"+(i-1)]+a.y,n["x"+i]+a.x,n["y"+i]+a.y)}function Pe(e,t,a,n){var i,s,r,o,l;i=2,_e(e,t,a,n,n.cx1+a.x,n.cy1+a.y,n.x1+a.x,n.y1+a.y),void 0!==n.x1&&void 0!==n.y1&&t.moveTo(n.x1+a.x,n.y1+a.y);while(1){if(s=n["x"+i],r=n["y"+i],o=n["cx"+(i-1)],l=n["cy"+(i-1)],void 0===s||void 0===r||void 0===o||void 0===l)break;t.quadraticCurveTo(o+a.x,l+a.y,s+a.x,r+a.y),i+=1}i-=1,ke(e,t,a,n,n["cx"+(i-1)]+a.x,n["cy"+(i-1)]+a.y,n["x"+i]+a.x,n["y"+i]+a.y)}function Ne(e,t,a,n){var i,s,r,o,l,c,g,u;i=2,s=1,_e(e,t,a,n,n.cx1+a.x,n.cy1+a.y,n.x1+a.x,n.y1+a.y),void 0!==n.x1&&void 0!==n.y1&&t.moveTo(n.x1+a.x,n.y1+a.y);while(1){if(r=n["x"+i],o=n["y"+i],l=n["cx"+s],c=n["cy"+s],g=n["cx"+(s+1)],u=n["cy"+(s+1)],void 0===r||void 0===o||void 0===l||void 0===c||void 0===g||void 0===u)break;t.bezierCurveTo(l+a.x,c+a.y,g+a.x,u+a.y,r+a.x,o+a.y),i+=1,s+=2}i-=1,s-=2,ke(e,t,a,n,n["cx"+(s+1)]+a.x,n["cy"+(s+1)]+a.y,n["x"+i]+a.x,n["y"+i]+a.y)}function De(e,t,a){return t*=e._toRad,t-=m/2,a*y(t)}function ze(e,t,a){return t*=e._toRad,t-=m/2,a*v(t)}function Oe(e,t,a,n){var i,s,r,o,l,c,g,u,h,d,m;a===n?(o=0,l=0):(o=a.x,l=a.y),i=1,c=u=d=n.x+o,g=h=m=n.y+l,_e(e,t,a,n,c+De(a,n.a1,n.l1),g+ze(a,n.a1,n.l1),c,g),void 0!==n.x&&void 0!==n.y&&t.moveTo(c,g);while(1){if(s=n["a"+i],r=n["l"+i],void 0===s||void 0===r)break;u=d,h=m,d+=De(a,s,r),m+=ze(a,s,r),t.lineTo(d,m),i+=1}ke(e,t,a,n,u,h,d,m)}function Re(e,t,a){isNaN(l(a.fontSize))||(a.fontSize+="px"),t.font=a.fontStyle+" "+a.fontSize+" "+a.fontFamily}function Ae(t,a,n,i){var s,r,o,l=T.propCache;if(l.text===n.text&&l.fontStyle===n.fontStyle&&l.fontSize===n.fontSize&&l.fontFamily===n.fontFamily&&l.maxWidth===n.maxWidth&&l.lineHeight===n.lineHeight)n.width=l.width,n.height=l.height;else{for(n.width=a.measureText(i[0]).width,o=1;o<i.length;o+=1)r=a.measureText(i[o]).width,r>n.width&&(n.width=r);s=t.style.fontSize,t.style.fontSize=n.fontSize,n.height=c(e.css(t,"fontSize"))*i.length*n.lineHeight,t.style.fontSize=s}}function Ee(e,t){var a,n,i,s,r,o,l=String(t.text),c=t.maxWidth,g=l.split("\n"),u=[];for(i=0;i<g.length;i+=1){if(s=g[i],r=s.split(" "),a=[],n="",1===r.length||e.measureText(s).width<c)a=[s];else{for(o=0;o<r.length;o+=1)e.measureText(n+r[o]).width>c&&(""!==n&&a.push(n),n=""),n+=r[o],o!==r.length-1&&(n+=" ");a.push(n)}u=u.concat(a.join("\n").replace(/((\n))|($)/gi,"$2").split("\n"))}return u}P.baseDefaults={align:"center",arrowAngle:90,arrowRadius:0,autosave:!0,baseline:"middle",bringToFront:!1,ccw:!1,closed:!1,compositing:"source-over",concavity:0,cornerRadius:0,count:1,cropFromCenter:!0,crossOrigin:null,cursors:null,disableEvents:!1,draggable:!1,dragGroups:null,groups:null,data:null,dx:null,dy:null,end:360,eventX:null,eventY:null,fillStyle:"transparent",fontStyle:"normal",fontSize:"12pt",fontFamily:"sans-serif",fromCenter:!0,height:null,imageSmoothing:!0,inDegrees:!0,intangible:!1,index:null,letterSpacing:null,lineHeight:1,layer:!1,mask:!1,maxWidth:null,miterLimit:10,name:null,opacity:1,r1:null,r2:null,radius:0,repeat:"repeat",respectAlign:!1,restrictDragToAxis:null,rotate:0,rounded:!1,scale:1,scaleX:1,scaleY:1,shadowBlur:0,shadowColor:"transparent",shadowStroke:!1,shadowX:0,shadowY:0,sHeight:null,sides:0,source:"",spread:0,start:0,strokeCap:"butt",strokeDash:null,strokeDashOffset:0,strokeJoin:"miter",strokeStyle:"transparent",strokeWidth:1,sWidth:null,sx:null,sy:null,text:"",translate:0,translateX:0,translateY:0,type:null,visible:!0,width:null,x:0,y:0},a=new P,k.prototype=a,S.extend=function(t){return t.name&&(t.props&&g(a,t.props),e.fn[t.name]=function e(a){var n,i,s,r,o=this;for(i=0;i<o.length;i+=1)n=o[i],s=O(n),s&&(r=new k(a),se(n,r,a,e),Y(n,s,r),t.fn.call(n,s,r));return o},t.type&&(L.drawings[t.type]=t.name)),e.fn[t.name]},e.fn.getEventHooks=function(){var e,t,a=this,n={};return 0!==a.length&&(e=a[0],t=V(e),n=t.eventHooks),n},e.fn.setEventHooks=function(e){var t,a,n=this;for(t=0;t<n.length;t+=1)a=V(n[t]),g(a.eventHooks,e);return n},e.fn.getLayers=function(e){var t,a,n,i,s,r=this,o=[];if(0!==r.length)if(t=r[0],a=V(t),n=a.layers,D(e))for(s=0;s<n.length;s+=1)i=n[s],e.call(t,i)&&o.push(i);else o=n;return o},e.fn.getLayer=function(e){var t,a,n,i,s,r,o=this;if(0!==o.length)if(t=o[0],a=V(t),n=a.layers,r=h(e),e&&e.layer)i=e;else if("number"===r)e<0&&(e=n.length+e),i=n[e];else if("regexp"===r){for(s=0;s<n.length;s+=1)if(N(n[s].name)&&n[s].name.match(e)){i=n[s];break}}else i=a.layer.names[e];return i},e.fn.getLayerGroup=function(e){var t,a,n,i,s,r=this,o=h(e);if(0!==r.length)if(t=r[0],"array"===o)s=e;else if("regexp"===o){for(i in a=V(t),n=a.layer.groups,n)if(i.match(e)){s=n[i];break}}else a=V(t),s=a.layer.groups[e];return s},e.fn.getLayerIndex=function(e){var t=this,a=t.getLayers(),n=t.getLayer(e);return u(n,a)},e.fn.setLayer=function(t,a){var n,i,s,r,o,l,u,m=this;for(i=0;i<m.length;i+=1)if(n=e(m[i]),s=V(m[i]),r=e(m[i]).getLayer(t),r){for(o in J(n,s,r,a),q(n,s,r,a),R(a),a)Object.prototype.hasOwnProperty.call(a,o)&&(l=a[o],u=h(l),"object"===u&&d(l)?(r[o]=g({},l),R(r[o])):"array"===u?r[o]=l.slice(0):"string"===u?0===l.indexOf("+=")?r[o]+=c(l.substr(2)):0===l.indexOf("-=")?r[o]-=c(l.substr(2)):!isNaN(l)&&z(l)&&"text"!==o?r[o]=c(l):r[o]=l:r[o]=l);G(n,s,r),U(n,s,r),!1===e.isEmptyObject(a)&&ie(n,s,r,"change",a)}return m},e.fn.setLayers=function(t,a){var n,i,s,r,o=this;for(i=0;i<o.length;i+=1)for(n=e(o[i]),s=n.getLayers(a),r=0;r<s.length;r+=1)n.setLayer(s[r],t);return o},e.fn.setLayerGroup=function(t,a){var n,i,s,r,o=this;for(i=0;i<o.length;i+=1)if(n=e(o[i]),s=n.getLayerGroup(t),s)for(r=0;r<s.length;r+=1)n.setLayer(s[r],a);return o},e.fn.moveLayer=function(t,a){var n,i,s,r,o,l=this;for(i=0;i<l.length;i+=1)n=e(l[i]),s=V(l[i]),r=s.layers,o=n.getLayer(t),o&&(o.index=u(o,r),r.splice(o.index,1),r.splice(a,0,o),a<0&&(a=r.length+a),o.index=a,ie(n,s,o,"move"));return l},e.fn.removeLayer=function(t){var a,n,i,s,r,o=this;for(n=0;n<o.length;n+=1)a=e(o[n]),i=V(o[n]),s=a.getLayers(),r=a.getLayer(t),r&&(r.index=u(r,s),s.splice(r.index,1),delete r._layer,J(a,i,r,{name:null}),q(a,i,r,{groups:null}),ie(a,i,r,"remove"));return o},e.fn.removeLayers=function(t){var a,n,i,s,r,o,l=this;for(n=0;n<l.length;n+=1){for(a=e(l[n]),i=V(l[n]),s=a.getLayers(t).slice(0),o=0;o<s.length;o+=1)r=s[o],a.removeLayer(r);i.layer.names={},i.layer.groups={}}return l},e.fn.removeLayerGroup=function(t){var a,n,i,s,r=this;if(void 0!==t)for(n=0;n<r.length;n+=1)if(a=e(r[n]),i=a.getLayerGroup(t),i)for(i=i.slice(0),s=0;s<i.length;s+=1)a.removeLayer(i[s]);return r},e.fn.addLayerToGroup=function(t,a){var n,i,s,r=this,o=[a];for(i=0;i<r.length;i+=1)n=e(r[i]),s=n.getLayer(t),s.groups&&(o=s.groups.slice(0),-1===u(a,s.groups)&&o.push(a)),n.setLayer(s,{groups:o});return r},e.fn.removeLayerFromGroup=function(t,a){var n,i,s,r,o=this,l=[];for(i=0;i<o.length;i+=1)n=e(o[i]),s=n.getLayer(t),s.groups&&(r=u(a,s.groups),-1!==r&&(l=s.groups.slice(0),l.splice(r,1),n.setLayer(s,{groups:l})));return o},C.cursors=["grab","grabbing","zoom-in","zoom-out"],C.prefix=function(){var e=r(n.documentElement,""),t=(x.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"-"+t+"-"}(),e.fn.triggerLayerEvent=function(t,a){var n,i,s,r=this;for(i=0;i<r.length;i+=1)n=e(r[i]),s=V(r[i]),t=n.getLayer(t),t&&ie(n,s,t,a);return r},e.fn.drawLayer=function(t){var a,n,i,s,r=this;for(a=0;a<r.length;a+=1)i=e(r[a]),n=O(r[a]),n&&(s=i.getLayer(t),Q(i,n,s));return r},e.fn.drawLayers=function(t){var a,n,i,s,r,o,l,c,g,u,h,d,m,f=this,p=t||{};for(c=p.index,c||(c=0),n=0;n<f.length;n+=1)if(a=e(f[n]),i=O(f[n]),i){for(u=V(f[n]),!1!==p.clear&&a.clearCanvas(),p.complete&&(u.drawLayersComplete=p.complete),s=u.layers,l=c;l<s.length;l+=1)if(r=s[l],r.index=l,p.resetFire&&(r._fired=!1),Q(a,i,r,l+1),r._masks=u.transforms.masks.slice(0),r._method===e.fn.drawImage&&r.visible){m=!0;break}if(m)continue;g=l,p.complete&&(p.complete.call(f[n]),delete u.drawLayersComplete),r=Z(u),h=u.event,d=h.type,u.drag.layer&&K(a,u,d),o=u.lastIntersected,null===o||r===o||!o._hovered||o._fired||u.drag.dragging||(u.lastIntersected=null,o._fired=!0,o._hovered=!1,ie(a,u,o,"mouseout"),te(a,u)),r&&(r[d]||(d=me(d)),r._event&&r.intersects&&(u.lastIntersected=r,(r.mouseover||r.mouseout||r.cursors)&&!u.drag.dragging&&(r._hovered||r._fired||(r._fired=!0,r._hovered=!0,ie(a,u,r,"mouseover"))),r._fired||(r._fired=!0,h.type=null,ie(a,u,r,d)),!r.draggable||r.disableEvents||"mousedown"!==d&&"touchstart"!==d||(u.drag.layer=r,u.originalRedrawOnMousemove=u.redrawOnMousemove,u.redrawOnMousemove=!0))),null!==r||u.drag.dragging||te(a,u),g===s.length&&(u.intersecting.length=0,u.transforms=A(I),u.savedTransforms.length=0)}return f},e.fn.addLayer=function(e){var t,a,n,i=this;for(t=0;t<i.length;t+=1)a=O(i[t]),a&&(n=new k(e),n.layer=!0,se(i[t],n,e));return i},C.props=["width","height","opacity","lineHeight"],C.propsObj={},e.fn.animateLayer=function(){var t,a,n,i,s,r,o=this,l=x.call(arguments,0);function c(e,t,a){return function(){re(a),ce(a),t.animating&&t.animated!==a||e.drawLayers(),a._animating=!1,t.animating=!1,t.animated=null,l[4]&&l[4].call(e[0],a),ie(e,t,a,"animateend")}}function u(e,t,a){return function(n,i){var s,r,o,c=!1;"_"===i.prop[0]&&(c=!0,i.prop=i.prop.replace("_",""),a[i.prop]=a["_"+i.prop]),-1!==i.prop.indexOf(".")&&(s=i.prop.split("."),r=s[0],o=s[1],a[r]&&(a[r][o]=i.now)),a._pos!==i.pos&&(a._pos=i.pos,a._animating||t.animating||(a._animating=!0,t.animating=!0,t.animated=a),t.animating&&t.animated!==a||e.drawLayers()),l[5]&&l[5].call(e[0],n,i,a),ie(e,t,a,"animate",i),c&&(i.prop="_"+i.prop)}}for("object"===h(l[2])?(l.splice(2,0,l[2].duration||null),l.splice(3,0,l[3].easing||null),l.splice(4,0,l[4].complete||null),l.splice(5,0,l[5].step||null)):(void 0===l[2]?(l.splice(2,0,null),l.splice(3,0,null),l.splice(4,0,null)):D(l[2])&&(l.splice(2,0,null),l.splice(3,0,null)),void 0===l[3]?(l[3]=null,l.splice(4,0,null)):D(l[3])&&l.splice(3,0,null)),a=0;a<o.length;a+=1)t=e(o[a]),n=O(o[a]),n&&(i=V(o[a]),s=t.getLayer(l[0]),s&&s._method!==e.fn.draw&&(r=g({},l[1]),r=le(o[a],s,r),oe(r,!0),oe(s),s.style=C.propsObj,e(s).animate(r,{duration:l[2],easing:e.easing[l[3]]?l[3]:null,complete:c(t,i,s),step:u(t,i,s)}),ie(t,i,s,"animatestart")));return o},e.fn.animateLayerGroup=function(t){var a,n,i,s,r=this,o=x.call(arguments,0);for(n=0;n<r.length;n+=1)if(a=e(r[n]),i=a.getLayerGroup(t),i)for(s=0;s<i.length;s+=1)o[0]=i[s],a.animateLayer.apply(a,o);return r},e.fn.delayLayer=function(t,a){var n,i,s,r,o=this;for(a=a||0,i=0;i<o.length;i+=1)n=e(o[i]),s=V(o[i]),r=n.getLayer(t),r&&(e(r).delay(a),ie(n,s,r,"delay"));return o},e.fn.delayLayerGroup=function(t,a){var n,i,s,r,o,l=this;for(a=a||0,i=0;i<l.length;i+=1)if(n=e(l[i]),s=n.getLayerGroup(t),s)for(o=0;o<s.length;o+=1)r=s[o],n.delayLayer(r,a);return l},e.fn.stopLayer=function(t,a){var n,i,s,r,o=this;for(i=0;i<o.length;i+=1)n=e(o[i]),s=V(o[i]),r=n.getLayer(t),r&&(e(r).stop(a),ie(n,s,r,"stop"));return o},e.fn.stopLayerGroup=function(t,a){var n,i,s,r,o,l=this;for(i=0;i<l.length;i+=1)if(n=e(l[i]),s=n.getLayerGroup(t),s)for(o=0;o<s.length;o+=1)r=s[o],n.stopLayer(r,a);return l},he(["color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fillStyle","outlineColor","strokeStyle","shadowColor"]),L.touchEvents={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},L.mouseEvents={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"},pe(["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","touchstart","touchmove","touchend","pointerdown","pointermove","pointerup","contextmenu"]),e.event.fix=function(t){var a,n,i;if(t=b.call(e.event,t),n=t.originalEvent,n)if(i=n.changedTouches,void 0!==t.pageX&&void 0===t.offsetX)try{a=e(t.currentTarget).offset(),a&&(t.offsetX=t.pageX-a.left,t.offsetY=t.pageY-a.top)}catch(s){}else if(i)try{a=e(t.currentTarget).offset(),a&&(t.offsetX=i[0].pageX-a.left,t.offsetY=i[0].pageY-a.top)}catch(s){}return t},L.drawings={arc:"drawArc",bezier:"drawBezier",ellipse:"drawEllipse",function:"draw",image:"drawImage",line:"drawLine",path:"drawPath",polygon:"drawPolygon",slice:"drawSlice",quadratic:"drawQuadratic",rectangle:"drawRect",text:"drawText",vector:"drawVector",save:"saveCanvas",restore:"restoreCanvas",rotate:"rotateCanvas",scale:"scaleCanvas",translate:"translateCanvas"},e.fn.draw=function e(t){var a,n,i=this,s=new k(t);if(L.drawings[s.type]&&"function"!==s.type)i[L.drawings[s.type]](t);else for(a=0;a<i.length;a+=1)n=O(i[a]),n&&(s=new k(t),se(i[a],s,t,e),s.visible&&s.fn&&s.fn.call(i[a],n,s));return i},e.fn.clearCanvas=function e(t){var a,n,i=this,s=new k(t);for(a=0;a<i.length;a+=1)n=O(i[a]),n&&(null===s.width||null===s.height?(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i[a].width,i[a].height),n.restore()):(se(i[a],s,t,e),B(i[a],n,s,s.width,s.height),n.clearRect(s.x-s.width/2,s.y-s.height/2,s.width,s.height),$(n,s)));return i},e.fn.saveCanvas=function e(t){var a,n,i,s,r,o=this;for(a=0;a<o.length;a+=1)if(n=O(o[a]),n)for(s=V(o[a]),i=new k(t),se(o[a],i,t,e),r=0;r<i.count;r+=1)E(n,s);return o},e.fn.restoreCanvas=function e(t){var a,n,i,s,r,o=this;for(a=0;a<o.length;a+=1)if(n=O(o[a]),n)for(s=V(o[a]),i=new k(t),se(o[a],i,t,e),r=0;r<i.count;r+=1)X(n,s);return o},e.fn.rotateCanvas=function e(t){var a,n,i,s,r=this;for(a=0;a<r.length;a+=1)n=O(r[a]),n&&(s=V(r[a]),i=new k(t),se(r[a],i,t,e),i.autosave&&E(n,s),ye(n,i,s.transforms));return r},e.fn.scaleCanvas=function e(t){var a,n,i,s,r=this;for(a=0;a<r.length;a+=1)n=O(r[a]),n&&(s=V(r[a]),i=new k(t),se(r[a],i,t,e),i.autosave&&E(n,s),we(n,i,s.transforms));return r},e.fn.translateCanvas=function e(t){var a,n,i,s,r=this;for(a=0;a<r.length;a+=1)n=O(r[a]),n&&(s=V(r[a]),i=new k(t),se(r[a],i,t,e),i.autosave&&E(n,s),xe(n,i,s.transforms));return r},e.fn.drawRect=function e(t){var a,n,i,s,r,o,l,c,g,u=this;for(a=0;a<u.length;a+=1)n=O(u[a]),n&&(i=new k(t),se(u[a],i,t,e),i.visible&&(B(u[a],n,i,i.width,i.height),Y(u[a],n,i),n.beginPath(),i.width&&i.height&&(s=i.x-i.width/2,r=i.y-i.height/2,c=p(i.cornerRadius),c?(o=i.x+i.width/2,l=i.y+i.height/2,i.width<0&&(g=s,s=o,o=g),i.height<0&&(g=r,r=l,l=g),o-s-2*c<0&&(c=(o-s)/2),l-r-2*c<0&&(c=(l-r)/2),n.moveTo(s+c,r),n.lineTo(o-c,r),n.arc(o-c,r+c,c,3*m/2,2*m,!1),n.lineTo(o,l-c),n.arc(o-c,l-c,c,0,m/2,!1),n.lineTo(s+c,l),n.arc(s+c,l-c,c,m/2,m,!1),n.lineTo(s,r+c),n.arc(s+c,r+c,c,m,3*m/2,!1),i.closed=!0):n.rect(s,r,i.width,i.height)),ve(u[a],n,i),j(u[a],n,i)));return u},e.fn.drawArc=function e(t){var a,n,i,s=this;for(a=0;a<s.length;a+=1)n=O(s[a]),n&&(i=new k(t),se(s[a],i,t,e),i.visible&&(B(s[a],n,i,2*i.radius),Y(s[a],n,i),n.beginPath(),Ie(s[a],n,i,i),ve(s[a],n,i),j(s[a],n,i)));return s},e.fn.drawEllipse=function e(t){var a,n,i,s,r,o=this;for(a=0;a<o.length;a+=1)n=O(o[a]),n&&(i=new k(t),se(o[a],i,t,e),i.visible&&(B(o[a],n,i,i.width,i.height),Y(o[a],n,i),s=i.width*(4/3),r=i.height,n.beginPath(),n.moveTo(i.x,i.y-r/2),n.bezierCurveTo(i.x-s/2,i.y-r/2,i.x-s/2,i.y+r/2,i.x,i.y+r/2),n.bezierCurveTo(i.x+s/2,i.y+r/2,i.x+s/2,i.y-r/2,i.x,i.y-r/2),ve(o[a],n,i),i.closed=!0,j(o[a],n,i)));return o},e.fn.drawPolygon=function e(t){var a,n,i,s,r,o,l,c,g,u,h=this;for(a=0;a<h.length;a+=1)if(n=O(h[a]),n&&(i=new k(t),se(h[a],i,t,e),i.visible)){for(B(h[a],n,i,2*i.radius),Y(h[a],n,i),r=2*m/i.sides,o=r/2,s=o+m/2,l=i.radius*y(o),n.beginPath(),u=0;u<i.sides;u+=1)c=i.x+i.radius*y(s),g=i.y+i.radius*v(s),n.lineTo(c,g),i.concavity&&(c=i.x+(l+-l*i.concavity)*y(s+o),g=i.y+(l+-l*i.concavity)*v(s+o),n.lineTo(c,g)),s+=r;ve(h[a],n,i),i.closed=!0,j(h[a],n,i)}return h},e.fn.drawSlice=function e(t){var a,n,i,s,r,o,l=this;for(a=0;a<l.length;a+=1)n=O(l[a]),n&&(i=new k(t),se(l[a],i,t,e),i.visible&&(B(l[a],n,i,2*i.radius),Y(l[a],n,i),i.start*=i._toRad,i.end*=i._toRad,i.start-=m/2,i.end-=m/2,i.start=be(i.start),i.end=be(i.end),i.end<i.start&&(i.end+=2*m),s=(i.start+i.end)/2,r=i.radius*i.spread*y(s),o=i.radius*i.spread*v(s),i.x+=r,i.y+=o,n.beginPath(),n.arc(i.x,i.y,i.radius,i.start,i.end,i.ccw),n.lineTo(i.x,i.y),ve(l[a],n,i),i.closed=!0,j(l[a],n,i)));return l},e.fn.drawLine=function e(t){var a,n,i,s=this;for(a=0;a<s.length;a+=1)n=O(s[a]),n&&(i=new k(t),se(s[a],i,t,e),i.visible&&(B(s[a],n,i),Y(s[a],n,i),n.beginPath(),Se(s[a],n,i,i),ve(s[a],n,i),j(s[a],n,i)));return s},e.fn.drawQuadratic=function e(t){var a,n,i,s=this;for(a=0;a<s.length;a+=1)n=O(s[a]),n&&(i=new k(t),se(s[a],i,t,e),i.visible&&(B(s[a],n,i),Y(s[a],n,i),n.beginPath(),Pe(s[a],n,i,i),ve(s[a],n,i),j(s[a],n,i)));return s},e.fn.drawBezier=function e(t){var a,n,i,s=this;for(a=0;a<s.length;a+=1)n=O(s[a]),n&&(i=new k(t),se(s[a],i,t,e),i.visible&&(B(s[a],n,i),Y(s[a],n,i),n.beginPath(),Ne(s[a],n,i,i),ve(s[a],n,i),j(s[a],n,i)));return s},e.fn.drawVector=function e(t){var a,n,i,s=this;for(a=0;a<s.length;a+=1)n=O(s[a]),n&&(i=new k(t),se(s[a],i,t,e),i.visible&&(B(s[a],n,i),Y(s[a],n,i),n.beginPath(),Oe(s[a],n,i,i),ve(s[a],n,i),j(s[a],n,i)));return s},e.fn.drawPath=function e(t){var a,n,i,s,r,o=this;for(a=0;a<o.length;a+=1)if(n=O(o[a]),n&&(i=new k(t),se(o[a],i,t,e),i.visible)){B(o[a],n,i),Y(o[a],n,i),n.beginPath(),s=1;while(1){if(r=i["p"+s],void 0===r)break;r=new k(r),"line"===r.type?Se(o[a],n,i,r):"quadratic"===r.type?Pe(o[a],n,i,r):"bezier"===r.type?Ne(o[a],n,i,r):"vector"===r.type?Oe(o[a],n,i,r):"arc"===r.type&&Ie(o[a],n,i,r),s+=1}ve(o[a],n,i),j(o[a],n,i)}return o},e.fn.drawText=function e(t){var a,n,i,s,r,o,l,g,u,h,d,f,p,v,y=this,w=500;for(a=0;a<y.length;a+=1)if(n=O(y[a]),n&&(i=new k(t),se(y[a],i,t,e),i.visible)){if(n.textBaseline=i.baseline,n.textAlign=i.align,Re(y[a],n,i),r=null!==i.maxWidth?Ee(n,i):i.text.toString().split("\n"),Ae(y[a],n,i,r),s&&(s.width=i.width,s.height=i.height),B(y[a],n,i,i.width,i.height),Y(y[a],n,i),p=i.x,"left"===i.align?i.respectAlign?i.x+=i.width/2:p-=i.width/2:"right"===i.align&&(i.respectAlign?i.x-=i.width/2:p+=i.width/2),i.radius)for(g=c(i.fontSize),null===i.letterSpacing&&(i.letterSpacing=g/w),l=0;l<r.length;l+=1){for(n.save(),n.translate(i.x,i.y),o=r[l],i.flipArcText&&(h=o.split(""),h.reverse(),o=h.join("")),u=o.length,n.rotate(-m*i.letterSpacing*(u-1)/2),f=0;f<u;f+=1)d=o[f],0!==f&&n.rotate(m*i.letterSpacing),n.save(),n.translate(0,-i.radius),i.flipArcText&&n.scale(-1,-1),n.fillText(d,0,0),"transparent"!==i.fillStyle&&(n.shadowColor="transparent"),0!==i.strokeWidth&&n.strokeText(d,0,0),n.restore();i.radius-=g,i.letterSpacing+=g/(2*w*m),n.restore()}else for(l=0;l<r.length;l+=1)o=r[l],v=i.y+l*i.height/r.length-(r.length-1)*i.height/r.length/2,n.shadowColor=i.shadowColor,n.fillText(o,p,v),"transparent"!==i.fillStyle&&(n.shadowColor="transparent"),0!==i.strokeWidth&&n.strokeText(o,p,v);v=0,"top"===i.baseline?v+=i.height/2:"bottom"===i.baseline&&(v-=i.height/2),i._event&&(n.beginPath(),n.rect(i.x-i.width/2,i.y-i.height/2+v,i.width,i.height),ve(y[a],n,i),n.closePath()),$(n,i)}return T.propCache=i,y},e.fn.measureText=function(e){var t,a,n,i=this;return a=i.getLayer(e),(!a||a&&!a._layer)&&(a=new k(e)),t=O(i[0]),t&&(Re(i[0],t,a),n=null!==a.maxWidth?Ee(t,a):a.text.split("\n"),Ae(i[0],t,a,n)),a},e.fn.drawImage=function t(a){var n,s,r,o,l,c,g,u,h,d=this,m=T.imageCache;function f(e,t,a,n,i){null===n.width&&null===n.sWidth&&(n.width=n.sWidth=g.width),null===n.height&&null===n.sHeight&&(n.height=n.sHeight=g.height),i&&(i.width=n.width,i.height=n.height),null!==n.sWidth&&null!==n.sHeight&&null!==n.sx&&null!==n.sy?(null===n.width&&(n.width=n.sWidth),null===n.height&&(n.height=n.sHeight),n.cropFromCenter&&(n.sx+=n.sWidth/2,n.sy+=n.sHeight/2),n.sy-n.sHeight/2<0&&(n.sy=n.sHeight/2),n.sy+n.sHeight/2>g.height&&(n.sy=g.height-n.sHeight/2),n.sx-n.sWidth/2<0&&(n.sx=n.sWidth/2),n.sx+n.sWidth/2>g.width&&(n.sx=g.width-n.sWidth/2),B(e,t,n,n.width,n.height),Y(e,t,n),t.drawImage(g,n.sx-n.sWidth/2,n.sy-n.sHeight/2,n.sWidth,n.sHeight,n.x-n.width/2,n.y-n.height/2,n.width,n.height)):(B(e,t,n,n.width,n.height),Y(e,t,n),t.drawImage(g,n.x-n.width/2,n.y-n.height/2,n.width,n.height)),t.beginPath(),t.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),ve(e,t,n),t.closePath(),$(t,n),H(t,a,n)}function p(t,a,n,i,s){return function(){var r=e(t);if(f(t,a,n,i,s),i.layer?ie(r,n,s,"load"):i.load&&i.load.call(r[0],s),i.layer&&(s._masks=n.transforms.masks.slice(0),i._next)){var o=n.drawLayersComplete;delete n.drawLayersComplete,r.drawLayers({clear:!1,resetFire:!0,index:i._next,complete:o})}}}for(s=0;s<d.length;s+=1)n=d[s],r=O(d[s]),r&&(o=V(d[s]),l=new k(a),c=se(d[s],l,a,t),l.visible&&(h=l.source,u=h.getContext,h.src||u?g=h:h&&(m[h]&&m[h].complete?g=m[h]:(g=new i,h.match(/^data:/i)||(g.crossOrigin=l.crossOrigin),g.src=h,m[h]=g)),g&&(g.complete||u?p(n,r,o,l,c)():(g.onload=p(n,r,o,l,c),g.src=g.src))));return d},e.fn.createPattern=function(t){var a,n,s,r,o,l,c=this;function g(){o=a.createPattern(s,n.repeat),n.load&&n.load.call(c[0],o)}return a=O(c[0]),a?(n=new k(t),l=n.source,D(l)?(s=e("<canvas />")[0],s.width=n.width,s.height=n.height,r=O(s),l.call(s,r),g()):(r=l.getContext,l.src||r?s=l:(s=new i,l.match(/^data:/i)||(s.crossOrigin=n.crossOrigin),s.src=l),s.complete||r?g():(s.onload=g,s.src=s.src))):o=null,o},e.fn.createGradient=function(e){var t,a,n,i,s,r,o,l,c,g,u=this,h=[];if(a=new k(e),t=O(u[0]),t){for(a.x1=a.x1||0,a.y1=a.y1||0,a.x2=a.x2||0,a.y2=a.y2||0,n=null!==a.r1&&null!==a.r2?t.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2):t.createLinearGradient(a.x1,a.y1,a.x2,a.y2),o=1;void 0!==a["c"+o];o+=1)void 0!==a["s"+o]?h.push(a["s"+o]):h.push(null);for(i=h.length,null===h[0]&&(h[0]=0),null===h[i-1]&&(h[i-1]=1),o=0;o<i;o+=1){if(null!==h[o]){for(c=1,g=0,s=h[o],l=o+1;l<i;l+=1){if(null!==h[l]){r=h[l];break}c+=1}s>r&&(h[l]=h[o])}else null===h[o]&&(g+=1,h[o]=s+g*((r-s)/c));n.addColorStop(h[o],a["c"+(o+1)])}}else n=null;return n},e.fn.setPixels=function e(t){var a,n,i,s,r,o,l,c,g,u,h=this;for(n=0;n<h.length;n+=1)if(a=h[n],i=O(a),s=V(h[n]),i&&(r=new k(t),se(a,r,t,e),B(h[n],i,r,r.width,r.height),null!==r.width&&null!==r.height||(r.width=a.width,r.height=a.height,r.x=r.width/2,r.y=r.height/2),0!==r.width&&0!==r.height)){if(l=i.getImageData((r.x-r.width/2)*s.pixelRatio,(r.y-r.height/2)*s.pixelRatio,r.width*s.pixelRatio,r.height*s.pixelRatio),c=l.data,u=c.length,r.each)for(g=0;g<u;g+=4)o={r:c[g],g:c[g+1],b:c[g+2],a:c[g+3]},r.each.call(a,o,r),c[g]=o.r,c[g+1]=o.g,c[g+2]=o.b,c[g+3]=o.a;i.putImageData(l,(r.x-r.width/2)*s.pixelRatio,(r.y-r.height/2)*s.pixelRatio),i.restore()}return h},e.fn.getCanvasImage=function(e,t){var a,n=this,i=null;return 0!==n.length&&(a=n[0],a.toDataURL&&(void 0===t&&(t=1),i=a.toDataURL("image/"+e,t))),i},e.fn.detectPixelRatio=function(e){var a,n,i,s,r,o,l,c,g,u=this;for(n=0;n<u.length;n+=1)a=u[n],i=O(a),g=V(u[n]),g.scaled||(s=t.devicePixelRatio||1,r=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,o=s/r,1!==o&&(l=a.width,c=a.height,a.width=l*o,a.height=c*o,a.style.width=l+"px",a.style.height=c+"px",i.scale(o,o)),g.pixelRatio=o,g.scaled=!0,e&&e.call(a,o));return u},S.clearCache=function(){var e;for(e in T)Object.prototype.hasOwnProperty.call(T,e)&&(T[e]={})},e.support.canvas=void 0!==e("<canvas />")[0].getContext,g(S,{defaults:a,setGlobalProps:Y,transformShape:B,detectEvents:ve,closePath:j,setCanvasFont:Re,measureText:Ae}),e.jCanvas=S,e.jCanvasObject=k}))},d3fe:function(e,t,a){"use strict";(function(e){a("159b"),a("d81d"),a("4de4"),a("ac1f"),a("1276"),a("a434"),a("99af");var n=a("acea"),i=a.n(n);i()(e,window),t["a"]={data:function(){return{imgPath:"",imgWH:{width:0,height:0},looking:!1,tagImg:[],msgList:[],tagName:"",trained:10,untrained:20,layer:0,imgTagDist:{folder:"",version:"",imgName:"",imgWidth:"",imgHeight:"",TagList:[{tagName:"",leftUp:[],rightDown:[]}],ratio:"",action:""},dialogVisible:!1,restaurants:[],ratio:1,dialogVisible2:!1,dynamicTags:[],inputVisible:!1,inputValue:"",isLoading:0,loading:"",isTagImgList:[],pagenumber:1,pagesize:12,total_pics:0,total_pages:1,isTaged:!1,curImage:{},ratioHeight:680,ratioWidth:1200,curImageIndex:0,paramList:{dataSetName:"",pagenumber:1,pagesize:12,tagStatus:0,scaleHeight:240},disabled:!1,tableList:[],currentPage:1,pageSize:12,search:""}},computed:{imgUrl:function(){var e=this;return e.imgPath},itemDate:function(){return this.$store.state.ItemDetails.itemDate},twoListLength:function(){return[1,1,this.looking]},imgParam:function(){var e={};return e.isTaged=this.isTaged,e.pageNum=this.pagenumber,console.log(e),e},isNextPage:function(){var e="ok";return this.pagenumber*this.pagesize>=this.total_pics&&1==this.pagenumber?e="unAll":this.pagenumber*this.pagesize>this.total_pics?e="unNext":this.pagenumber<=1&&(e="unLast"),e}},watch:{twoListLength:{handler:function(t,a){console.log(t),0===t[0]&&this.looking?(console.log("已标注图片为零,隐藏界面"),e(".Empty").css({display:"flex"}),e(".noEmpty").css({display:"none"})):0!==t[1]||this.looking?0!==t[0]&&this.looking?(e(".Empty").css({display:"none"}),e(".noEmpty").css({display:"table"}),this.drawPen()):0===t[1]||this.looking||(e(".Empty").css({display:"none"}),e(".noEmpty").css({display:"table"}),this.drawPen()):(console.log("未标注图片为零,隐藏界面"),e(".Empty").css({display:"flex"}),e(".noEmpty").css({display:"none"}))},deep:!0},isLoading:{handler:function(e,t){2==e&&this.loading.close()}},imgParam:{handler:function(e){console.log(this.pagenumber),this.paramList.pageNum=this.pagenumber,e.isTaged?this.getTagedImage():this.getUnTagImage()}}},methods:{up:function(){this.curImageIndex-=1,console.log(this.curImageIndex),this.curImage=this.isTagImgList[this.curImageIndex],this.resizeImgV2(this.curImage)},down:function(){this.curImageIndex<this.isTagImgList.length-1&&(this.curImageIndex+=1,console.log(this.curImageIndex),this.curImage=this.isTagImgList[this.curImageIndex],this.resizeImgV2(this.curImage))},load:function(){this.getTagName()},clearList:function(){},searchAction:function(){},handleSearch:function(){},clear:function(){},resizeWindow:function(){var t=this;e((function(){console.log("刷新"),e(window).resize((function(){t.stopTag(),t.startTag()}))}))},getTagName:function(){var e=this,t=this;console.log(this.$store.state.ItemDetails.itemDate),t.paramList.dataSetName=this.$store.state.ItemDetails.itemDate,this.$api.showLabel({dataSetName:t.paramList.dataSetName}).then((function(a){console.log(a),Array.isArray(a.voc_classes)&&a.voc_classes?(t.restaurants=a.voc_classes,e.dynamicTags=[],t.restaurants.forEach((function(e){t.dynamicTags.push(e.value)}))):t.$message({type:"info",message:"标签集为空,请先打开标注管理输入标签"})})).catch((function(e){console.log(e)}))},showData:function(){this.paramList.dataSetName=this.$store.state.ItemDetails.itemDate,this.getTagName()},lastPage:function(){this.$router.push({name:"image"}),this.isTagImgList[0]="",this.curImage="",this.isTagImgList=[],this.msgList=[],this.tagImg=[],this.tagName="",this.clearCanvas()},stopTag:function(){e("#myCanvas")[0].onmousedown=void 0,e("#myCanvas")[0].onmouseup=void 0,e("#myCanvas")[0].onmousemove=void 0},startTag:function(){this.stopTag(),this.drawPen()},drawPen:function(){var e="red",t=1;this.stopTag(),this.drawRect("myCanvas",e,t)},drawRect:function(t,a,n){var i=this,s=n,r={leftUp:[],rightDown:[],tagName:""},o=document.getElementById(t),l=o.getBoundingClientRect(),c=l.left,g=l.top,u=0,h=0,d="layer";o.onmousedown=function(n){var l=a;i.layer+=1,d="layer".concat(i.layer),u=n.clientX-c,h=n.clientY-g,console.log("左上顶点"),console.log(u,h);var m=parseInt(u/i.ratio),f=parseInt(h/i.ratio);r.leftUp=[m,f],e("#"+t).addLayer({type:"rectangle",strokeStyle:l,strokeWidth:s,name:d,fromCenter:!1,x:u,y:h,width:1,height:1}),e("#"+t).drawLayers(),e("#"+t).saveCanvas(),o.onmousemove=function(a){var n=a.clientX-c-u,i=a.clientY-g-h;e("#"+t).removeLayer(d),e("#"+t).addLayer({type:"rectangle",strokeStyle:l,strokeWidth:s,name:d,fromCenter:!1,x:u,y:h,width:n,height:i}),e("#"+t).drawLayers()}},o.onmouseup=function(n){var s=a,l=l;o.onmousemove=null;var m=n.clientX-c-u,f=n.clientY-g-h,p=parseInt((n.clientX-c)/i.ratio),v=parseInt((n.clientY-g)/i.ratio);e("#"+t).removeLayer(d),m>10&&f>10?(r.rightDown=[p,v],r.tagName=i.tagName,e("#"+t).addLayer({type:"rectangle",strokeStyle:s,strokeWidth:l,name:d,fromCenter:!1,x:u,y:h,width:m,height:f}),i.msgList.push(r),console.log(i.msgList),i.dialogVisible=!0,i.createTag.apply(i,[u,h])):i.layer-=1,r={},e("#"+t).drawLayers(),e("#"+t).saveCanvas()}},createTag:function(t,a){var n=this,i=e('<div id="layer'.concat(n.layer,'"></div>'));i.css({position:"absolute",background:"#99a9bf",left:"".concat(t,"px"),top:"".concat(a,"px"),color:"yellow","z-index":1e3}),e("#threeTag").append(i)},querySearch:function(e,t){var a=this,n=a.restaurants;console.log(n),t(n)},handleSelect:function(e){console.log(e),this.tagImg=e},addLabelBoxes:function(e,t){var a=[];!Array.isArray(e)||e.length<=0||(e.forEach((function(e,t){var n={};n.label=e.tagName,n.xmin=e.leftUp[0],n.ymin=e.leftUp[1],n.xmax=e.rightDown[0],n.ymax=e.rightDown[1],a.push(n)})),console.log(a),this.isTagImgList[t].labelBoxes=a,console.log(t,this.isTagImgList[t].labelBoxes),this.isTagImgList[t].ratio=this.ratio,console.log(this.isTagImgList),this.sendTagList())},sendTagList:function(){var e=this;console.log(this.isTagImgList);var t=this.isTagImgList.filter((function(e){return e.isClick&&Array.isArray(e.labelBoxes)})).map((function(e){return e}));console.log(t);var a={};t.forEach((function(e){a=e.imagename}));console.log(a);var n={};t.forEach((function(e){n=e}));console.log(n),console.log(n["imagesize"]);var i=parseInt(n["imagesize"].split(",")[0]),s=parseInt(n["imagesize"].split(",")[1]),r={};r.dataset=this.paramList.dataSetName,r.imgName=a,r.imgWidth=i,r.imgHeight=s,r.TagList=this.msgList,r.ratio=this.ratio,e.$api.createTag(r).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},cancel:function(){this.removeOne(),this.dialogVisible=!1},determine:function(){var t=this;""!=t.tagName&&(e("#layer".concat(t.layer)).text(t.tagName),t.msgList[t.msgList.length-1].tagName=t.tagName,this.dialogVisible=!1)},removeOne:function(){var t=this,a=t.layer;console.log(t.msgList),t.msgList.pop(),e("#myCanvas").removeLayer("layer".concat(a)),e("#layer".concat(a)).remove(),e("#layer".concat(a)).empty(),e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas(),t.layer=0===t.layer?0:a-1},removeTag:function(t,a){console.log(t,a,this.isTagImgList[a]);var n=this,i=n.layer;console.log(i);for(var s=i;s>=1;s--)console.log("开始删除"+s),e("#myCanvas").removeLayer("layer".concat(s)),e("#layer".concat(s)).remove(),e("#layer".concat(s)).empty(),e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas(),n.layer=0===n.layer?0:s-1;var r=parseInt(t["imagesize"].split(",")[0]),o=parseInt(t["imagesize"].split(",")[1]),l={};l.dataset=this.paramList.dataSetName,l.imgName=t.imagename,l.imgWidth=r,l.imgHeight=o,l.ratio=this.ratio,this.$api.deleteTag(l).then((function(e){console.log(e),console.log(n.isTagImgList[a].labelBoxes),delete n.isTagImgList[a].labelBoxes,n.isTagImgList[a].del=!0,console.log(n.isTagImgList[a]),n.stopTag()})).catch((function(e){console.log(e)}))},clearAll:function(){var t=this;t.msgList=[],e("#threeTag").empty();var a=t.layer;t.layer=0,t.imgTagDist={},t.ratio=1;while(a>0)e("#myCanvas").removeLayer("layer".concat(a)),e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas(),a-=1;e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas()},imgRatio:function(t){if("string"==typeof t){console.log(t);var a=new Image;a.src=t,a.onload=function(){n.imgWH.width=a.width,n.imgWH.height=a.height;var i=480/a.height;n.ratio=i;var s=parseInt(i*a.width),r=parseInt(i*a.height);e("#biaoZu").css({height:"".concat(r,"px"),width:"".concat(s,"px")}),n.imgPath=t}}var n=this},managerTag:function(){this.dialogVisible2=!0;var e=this;this.dynamicTags=[],e.restaurants.forEach((function(t){e.dynamicTags.push(t.value)})),console.log("打开标注管理")},handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""},cancelManage:function(){this.dialogVisible2=!1},determineManage:function(){var e=this;this.dialogVisible2=!1,this.restaurants=[],this.dynamicTags.forEach((function(t){e.restaurants.push({value:t})})),this.postTagList()},postTagList:function(){var e=this;e.$api.uploadLabel({dataSetName:this.paramList.dataSetName,voc_classes:this.restaurants}).then((function(t){console.log(t),e.$message({type:"success",message:"标签保存成功"})})).catch((function(t){console.log(t),e.$message({type:"error",message:"标签保存失败"})}))},unTarget:function(){this.isTagImgList[this.curImageIndex].labelBoxes=[],this.isTagImgList[this.curImageIndex].unTag=!0,this.isTagImgList[this.curImageIndex].ratio=1,this.sendTagList()},saveData:function(){this.addLabelBoxes(this.msgList,this.curImageIndex),this.stopTag()},createLoading:function(){this.loading=this.$loading({lock:!0,text:"正在加载图片...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},getUnTagImage:function(){var e=this;console.log("未标注");var t=this;t.curImageIndex=0,this.paramList.dataSetName=this.$store.state.ItemDetails.itemDate,this.$store.commit("ItemDetails/unTagImgList",this.paramList.dataSetName),this.$api.ImageList({dataSetName:this.paramList.dataSetName,pageNum:this.paramList.pagenumber,pageSize:this.paramList.pagesize,tagStatus:this.paramList.tagStatus,scaleHeight:this.paramList.scaleHeight}).then((function(a){console.log(a),console.log(e.paramList.dataSetName),e.$store.commit("ItemDetails/unTagImgList",e.paramList),200==a.code?(t.total_pics=a.images.total_pics,t.total_pages=a.images.total_pages,t.isTagImgList=a.images.imgs,t.isTagImgList.length>0&&(t.isTagImgList[0].isClick=!0,t.curImage=t.isTagImgList[0],t.resizeImgV2(t.isTagImgList[0]),t.imgPath=t.isTagImgList[0].image)):402==a.code?(e.total_pics=a.image_msg.length,t.$message({type:"",message:"未标注图片列表为空"})):t.$message({type:"error",message:"图片列表获取失败"})})).catch((function(e){console.log(e)}))},getTagedImage:function(){var e=this,t=this;t.curImageIndex=0,this.$api.ImageList({dataSetName:this.paramList.dataSetName,pageNum:this.paramList.pagenumber,pageSize:this.paramList.pagesize,tagStatus:this.paramList.tagStatus,scaleHeight:this.paramList.scaleHeight}).then((function(a){200==a.code?(e.$store.commit("ItemDetails/isTagImgList",e.paramList),console.log(a),t.total_pics=a.images.total_pics,t.total_pages=a.images.total_pages,t.isTagImgList=a.images.imgs,t.isTagImgList.length>0&&(t.isTagImgList[0].isClick=!0,t.curImage=t.isTagImgList[0],t.resizeImgV2(t.isTagImgList[0]),console.log(t.isTagImgList[0]),t.imgPath=t.isTagImgList[0].image)):402==a.code?(e.total_pics=a.image_msg.length,t.$message({type:"",message:"已标注图片列表为空"})):t.$message({type:"error",message:"图片列表获取失败"})})).catch((function(e){console.log(e)}))},setIsTaged:function(t){console.log(t),this.pagenumber=1,this.paramList.pagenumber=1,this.isTaged=t,!1===this.isTaged?this.paramList.tagStatus=0:this.paramList.tagStatus=1,console.log("按钮改变了"+t),this.addLabelBoxes(this.msgList,this.curImageIndex),e("#threeTag").empty(),this.clearCanvas(),this.msgList=[]},getPage:function(e){this.pagenumber+=e,this.paramList.pagenumber=this.pagenumber,this.isTaged?this.getTagName():this.getUnTagImage()},selectImg:function(e){this.addLabelBoxes(this.msgList,this.curImageIndex),this.msgList=[],this.curImage=this.isTagImgList[e.index],this.isTagImgList[e.index].isClick=!0,this.curImageIndex=e.index,console.log(e.index),this.resizeImgV2(this.curImage),console.log(this.curImage)},resizeImgV2:function(t){var a=this;console.log(this.curImage),e("#threeTag").empty(),a.clearCanvas();var n=parseInt(t["imagesize"].split(",")[1]),i=parseInt(t["imagesize"].split(",")[0]);console.log(n,i);var s="",r="",o="";s=a.ratioWidth/i,a.ratio=s,s<.8?(s=a.ratioWidth/i,a.ratio=s,console.log("按宽比例缩放"+s),r=parseInt(s*i),o=parseInt(a.ratio*n)):s>.8&&(s=a.ratioHeight/n,a.ratio=s,console.log("按高比例缩放"+s),r=parseInt(s*i),o=parseInt(s*n)),this.$refs["biaoZu"].style.height="".concat(o,"px"),this.$refs["biaoZu"].style.width="".concat(r,"px"),this.$refs["myCanvas"].setAttribute("width","".concat(r,"px")),this.$refs["myCanvas"].setAttribute("height","".concat(o,"px")),this.$refs["threeTag"].style.height="".concat(o,"px"),this.$refs["threeTag"].style.width="".concat(r,"px"),this.imgPath=t.image,a.startTag(),Array.isArray(t["labelBoxes"])?(a.layer=t["labelBoxes"].length,this.stopTag(),this.addTagRect(t["labelBoxes"])):!0===t["del"]&&this.stopTag()},addTagRect:function(t){var a=this,n=this.ratio;a.layer=0,t.forEach((function(t,i){var s=parseInt(t.xmin*n),r=parseInt(t.ymin*n),o=parseInt((t.xmax-t.xmin)*n),l=parseInt((t.ymax-t.ymin)*n),c=t.label;a.layer+=1;var g=e('<div id="layer'.concat(a.layer,'" class="isShowLayer">').concat(c,"</div>"));g.css({position:"absolute",background:"rgb(107,124,152)",left:"".concat(s,"px"),top:"".concat(r,"px"),color:"yellow","z-index":1e3}),e("#myCanvas").addLayer({type:"rectangle",strokeStyle:"red",strokeWidth:1,name:"layer".concat(a.layer),fromCenter:!1,x:s,y:r,width:o,height:l}),e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas(),e("#threeTag").append(g)}))},clearCanvas:function(){var t=this,a=t.layer;t.layer=0,t.imgTagDist={},t.ratio=1;while(a>0)e("#myCanvas").removeLayer("layer".concat(a)),e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas(),a-=1;e("#myCanvas").drawLayers(),e("#myCanvas").saveCanvas()}},created:function(){},mounted:function(){this.resizeWindow(),this.getUnTagImage(),this.getTagName()},activated:function(){this.getUnTagImage(),this.getTagName()},beforeDestroy:function(){this.cancelListening()}}}).call(this,a("1157"))},ef69:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"TagImage"}},[n("el-dialog",{attrs:{title:"标签名",visible:e.dialogVisible,"close-on-click-modal":!1,width:"30%","before-close":e.cancel},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.tagName,callback:function(t){e.tagName=t},expression:"tagName"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.determine}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"标签管理",visible:e.dialogVisible2,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[e._l(e.dynamicTags,(function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelManage}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.determineManage}},[e._v("确 定")])],1)],2),n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"grid-content bg-purple-dark",attrs:{id:"first"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.lastPage}},[e._v("返回")]),n("span",[e._v("数据集:"+e._s(e.paramList.dataSetName))])],1)])],1),n("el-row",{staticClass:"el_row_three"},[n("el-col",{staticClass:"noEmpty",attrs:{span:4}},[n("div",{attrs:{id:"TagManage"}},[n("div",{staticClass:"title"},[e._v("图片列表")]),n("div",{staticClass:"btnList"},[n("div",{staticClass:"btnItem",style:e.isTaged?"":"background:#85CE61;",on:{click:function(t){return e.setIsTaged(!1)}}},[e._v(" 未标注 ")]),n("div",{staticClass:"btnItem",style:e.isTaged?"background:#85CE61;":"",on:{click:function(t){return e.setIsTaged(!0)}}},[e._v(" 已标注 ")])]),n("div",{staticClass:"imgBtnList",on:{click:function(t){return e.selectImg(t.target.dataset)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total_pics,expression:"total_pics == 0"}],staticClass:"listEmpty"},[n("div",[n("img",{attrs:{src:a("71b6"),alt:""}}),n("div",[e._v("暂无图片")])])]),e._l(e.isTagImgList,(function(t,a){return n("div",{key:t.imagename,staticClass:"imgBtn",attrs:{"data-index":a}},[n("el-image",{attrs:{src:t.image,"data-index":a}}),n("div",{directives:[{name:"show",rawName:"v-show",value:Array.isArray(t["labelBoxes"])||t.unTag,expression:"Array.isArray(value['labelBoxes']) || value.unTag"}],staticClass:"imgTag"},[e._v(" 已标注 ")])],1)}))],2),n("div",{staticClass:"pageBtn"},[n("el-button",{attrs:{disabled:"unLast"==e.isNextPage||"unAll"==e.isNextPage},on:{click:function(t){return e.getPage(-1)}}},[e._v("上一批")]),n("el-button",{attrs:{disabled:"unNext"==e.isNextPage||"unAll"==e.isNextPage},on:{click:function(t){return e.getPage(1)}}},[e._v("下一批")])],1)])]),n("el-col",{staticClass:"noEmpty",attrs:{span:16}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total_pics,expression:"total_pics == 0"}],staticClass:"Empty"},[n("div",[n("img",{attrs:{src:a("71b6"),alt:""}}),n("div",[e._v("暂无图片")])])]),n("div",{attrs:{id:"total"}},[n("div",{staticClass:"command"},[0==e.isTaged?n("div",{staticClass:"btns"},[n("span",{staticClass:"iconfont icon-kuangxuan1",on:{click:e.startTag}},[n("i",{staticClass:"tip"},[e._v("标注")])]),n("span",{staticClass:"iconfont icon-wancheng-copy",on:{click:e.saveData}},[n("i",{staticClass:"tip"},[e._v("保存")])]),n("span",{staticClass:"icon iconfont icon-icon_common_region",on:{click:e.unTarget}},[n("i",{staticClass:"tips"},[e._v("无包含目标")])]),n("span",{staticClass:"icon iconfont icon-shanchu",on:{click:e.removeOne}},[n("i",{staticClass:"tips"},[e._v("删除上一个")])])]):e._e(),1==e.isTaged?n("div",{staticClass:"btns"},[n("span",{staticClass:"icon iconfont icon-shanchu",on:{click:function(t){return e.removeTag(e.curImage,e.curImageIndex)}}})]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.total_pics,expression:"total_pics != 0"}],ref:"three",staticClass:"grid-content bg-purple",attrs:{id:"three"}},[n("div",{ref:"threeTag",attrs:{id:"threeTag"}}),n("img",{ref:"biaoZu",attrs:{id:"biaoZu",src:e.imgPath,alt:"暂无图片"},on:{load:function(t){return e.resizeImgV2(e.curImage)}}}),n("canvas",{ref:"myCanvas",attrs:{id:"myCanvas"}})]),n("div",{staticClass:"info"},[n("span",[e._v("title")]),n("span",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.curImageIndex,expression:"curImageIndex != 0"}],attrs:{size:"mini",round:""},on:{click:e.up}},[e._v("上一张")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.curImageIndex!=e.isTagImgList.length-1,expression:"curImageIndex != isTagImgList.length - 1"}],attrs:{size:"mini",round:""},on:{click:e.down}},[e._v("下一张")])],1)])])]),n("el-col",{attrs:{span:4}},[n("div",{attrs:{id:"labelManage"}},[n("div",{staticClass:"labelsList"},[n("el-row",{staticClass:"title"},[e._v("检测标签")]),n("el-row",{staticClass:"searchtag"},[n("el-col",{attrs:{span:21}},[n("el-input",{ref:"inlineInput",staticClass:"searchs",attrs:{type:"text",placeholder:"请输入内容","prefix-icon":"el-icon-search",clearable:""},on:{clear:function(t){return e.clearList()},change:function(t){return e.searchAction()},focus:function(t){return e.handleSearch()},blur:function(t){return e.clear()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("el-col",{attrs:{span:3}},[n("el-button",{staticClass:"addtag",attrs:{size:"small"},on:{click:function(t){return e.managerTag()}}},[e._v("+")])],1)],1),n("el-row",[n("el-scrollbar",{ref:"scrollList",staticClass:"scrollList"},e._l(e.dynamicTags,(function(t,a){return n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],key:t+a,staticClass:"labelList",attrs:{"infinite-scroll-disabled":e.disabled,"infinite-scroll-immediate":!1,"infinite-scroll-delay":500}},[n("li",{staticClass:"labelitem"},[e._v(e._s(t))])])})),0)],1),n("el-row",{staticClass:"page"},[n("el-pagination",{attrs:{small:"",layout:"prev, pager, next",total:50}})],1)],1),n("div",{staticClass:"labelRecord"},[n("el-row",{staticClass:"title"},[e._v("标注记录")]),e.isTaged?n("el-row",{staticClass:"labelList"},[n("el-table",{staticClass:"labels",attrs:{data:e.tableList,"max-height":"220px","max-width":"160px","row-style":{height:"34px"},"cell-style":{padding:"0"}}},[n("el-table-column",{attrs:{prop:"date",label:"类别",width:"90"}}),n("el-table-column",{attrs:{prop:"name",label:"数量",width:"50"}})],1)],1):e._e(),e.isTaged?e._e():n("el-row")],1)])])],1)],1)},i=[],s=a("d3fe"),r=s["a"],o=(a("9332"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"1d9daacd",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-a7489002.7daf80db.js.map