(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c7e259c"],{"04d5":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"videos"}},[a("el-container",[a("el-header",{attrs:{height:"30px"}},[a("div",{staticClass:"command"},[a("div",[e._v(e._s(e.currentData))]),a("div",{staticClass:"btns"},[a("span",{staticClass:"add"},[a("add-pop",{on:{changeResult:function(t){return e.getPage(t)}}})],1),a("span",{staticClass:"upload"},[a("one-load",{on:{changePageData:function(t){return e.getPage(t)}}})],1),a("span",{staticClass:"dowmload"},[a("down-load")],1),a("span",{staticClass:"delete"},[a("ComDelete")],1)])])]),a("el-container",[a("el-aside",{attrs:{width:"180px"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"right"},[a("ResultList")],1)])],1),a("el-container",[a("el-main",[a("el-row",[a("el-col",{directives:[{name:"show",rawName:"v-show",value:0==e.videoData.total_files,expression:"videoData.total_files == 0"}],staticClass:"empty"},[a("div",[a("img",{attrs:{src:s("71b6"),alt:""}}),a("div",[e._v("暂无数据")])])]),e._l(e.videoData.videoOptions.length,(function(t,s){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoData.total_files,expression:"videoData.total_files != 0"}],key:s,staticClass:"noempty",attrs:{span:6}},[a("div",{staticClass:"col-content"},[a("video",{ref:"path",refInFor:!0,staticStyle:{"object-fit":"fill"},attrs:{controls:"",loop:""}},[a("source",{attrs:{src:e.videoData.videoOptions[s],type:"video/mp4"}})])])])}))],2)],1),a("el-footer",{attrs:{height:"30px"}},[a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)],1)],1)],1)},o=[],i=s("1ea1"),n=s("c6f3"),l=s("4bdd"),r=s("a1ef"),c=s("6957"),u={components:{AddPop:i["a"],OneLoad:n["a"],DownLoad:l["a"],ComDelete:r["a"],ResultList:c["a"]},data:function(){return{currentPage:1,total:null,pageSize:9,pageSizes:[9,12],layout:"total, sizes, prev, pager, next, jumper",loading:"",videoData:{videoOptions:[],total_files:"",total_pages:""},currentData:"",labelData:[{date:"2016-05-03",name:"5"},{date:"2016-05-02",name:"4"},{date:"2016-05-04",name:"8"},{date:"2016-05-01",name:"1"}]}},computed:{currentType:function(){return this.$store.state.ItemDetails.currentType},itemDate:function(){return this.$store.state.ItemDetails.itemDate},menulist:function(){return this.$store.state.ItemDetails.menulist}},watch:{itemDate:{handler:function(e,t){"video"==this.currentType&&(this.currentData=e,this.videoData.videoOptions=[],this.getPage())}}},methods:{getPage:function(){var e=this;"video"===this.$store.state.ItemDetails.currentType&&this.$api.getPageData({dataSetName:this.currentData,page_number:this.currentPage,page_size:this.pageSize}).then((function(t){e.loading=e.$loading({lock:!0,text:"正在加载图片...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),console.log(t),200===t.code&&(e.videoData.videoOptions=t.fileList,e.videoData.total_files=t.total_files,e.videoData.total_pages=t.total_pages,e.total=t.total_files),e.loading.close()}))},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.pageSize=e,this.getPage()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.currentPage=e,this.getPage()}},mounted:function(){}},p=u,d=(s("a88a"),s("2877")),g=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=g.exports},5647:function(e,t,s){"use strict";s("567f")},"567f":function(e,t,s){},"71b6":function(e,t,s){e.exports=s.p+"static/img/kong.effef897.png"},"93d5":function(e,t,s){},a1ef:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-button",{attrs:{type:"danger",size:"mini",round:""},on:{click:e.handleDelete}},[e._v("删除")])],1)},o=[],i={data:function(){return{}},computed:{currentName:function(){return this.$store.state.ItemDetails.itemDate},curIndex:function(){return this.$store.state.ItemDetails.itemIndex},navList:function(){return this.$store.state.ItemDetails.menuList}},methods:{getdeleteData:function(){var e=this;e.$api.deleteData({dataSetName:this.currentName}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},handleDelete:function(){var e=this;console.log("开始删除"),console.log(this.currentName);var t=this;this.$confirm("此操作将永久删除该数据集, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$api.deleteData({dataSetName:e.currentName}).then((function(t){console.log(t),e.$store.commit("ItemDetails/delect_resultList_isDelect",!1),e.$store.commit("ItemDetails/delect_resultList_isDelect",!0),e.$message({type:"success",message:"删除成功!"})})).catch((function(t){console.log(t),e.$message({type:"error",message:"删除失败"})}))})).catch((function(t){console.log(t),e.$message({type:"info",message:"已取消删除"})}))}}},n=i,l=s("2877"),r=Object(l["a"])(n,a,o,!1,null,"9f24d436",null);t["a"]=r.exports},a88a:function(e,t,s){"use strict";s("93d5")},c6f3:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:e.handleUpload,closed:e.handleClose}},[e._v("上传")]),s("el-dialog",{attrs:{title:"上传数据","close-on-click-modal":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"#","http-request":e.httpReq,"before-upload":e.beforeUpload,"on-error":e.uploadError,"auto-upload":!1,limit:3e3,multiple:""}},[s("div",{staticClass:"el-upload__bts"},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1),"text"==e.currentType?s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传csv文件，且不超过20M ")]):"audio"==e.currentType?s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传mp3文件，且不超过20M ")]):"video"==e.currentType?s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传mp4文件，且不超过1200M ")]):e._e()]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini"},on:{click:e.hideUpload}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.determineUpload}},[e._v("确 定")])],1)],1)],1)},o=[],i=(s("b0c0"),s("4de4"),{data:function(){return{currentDateName:"",mode:"1",dialogFormVisible:!1,postImgParam:{datasetname:"",action:"",version:"",index:""},type:"",size:"",code:"",showprocess:!1,progressPercent:0,timer:""}},computed:{currentName:function(){return this.$store.state.ItemDetails.itemDate},currentType:function(){return this.$store.state.ItemDetails.currentType}},watch:{currentName:{handler:function(e,t){console.log(e,t)}}},methods:{uploadchange:function(e,t){var s=this;if(console.log(e),"ready"===e.status){this.percentlength=0,this.showprocess=!0;var a=setInterval((function(){s.percentlength>=99?clearInterval(a):s.percentlength+=1}),20)}"success"===e.status&&(this.percentlength=100,this.showprocess=!1)},handleUpload:function(){console.log("点击上传"),this.dialogFormVisible=!0},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1);return console.log(t),"video"==this.currentType?(this.type="mp4"===t,this.size=e.size/1024/1024<1200,this.type||this.$message({message:"文件类型只能是 mp4格式!",type:"warning"}),this.size||this.$message({message:"文件大小不能超过1200MB!",type:"warning"}),this.type&&this.size):"text"==this.currentType?(this.type="csv"===t,this.size=e.size/1024/1024<10,this.type||this.$message({message:"文件类型只能是csv 格式!",type:"warning"}),this.type):"audio"==this.currentType?(this.type="mp3"===t,this.size=e.size/1024/1024<10,this.type||this.$message({message:"文件类型只能是mp3格式!",type:"warning"}),this.type):void 0},httpReq:function(e){var t=this;console.log("httpReq"),console.log(e),console.log(this.currentDateName),this.currentDateName=this.currentName,this.showprocess=!0,this.progressPercent=0;var s=e.file,a=new FormData;console.log(e.file.type,e.file.size),a.append("file",s),a.append("dataSetName",this.currentDateName),this.$api.uploadImgs(a).then((function(s){console.log(s),t.code=s.code,t.progressPercent<100&&t.progressPercent++,100==t.progressPercent&&(t.showprocess=!1,t.progressPercent=0),t.$refs.upload.uploadFiles=t.$refs.upload.uploadFiles.filter((function(t){return console.log(t),console.log(e.file.name),e.file.name!=t.name}))}))},handleRemove:function(e,t){console.log(e,t)},submitUpload:function(e){console.log("执行了"),console.log(e),this.$refs.upload.submit()},uploadError:function(e,t){console.log(t)},handleClose:function(){},hideUpload:function(){var e=this;e.$refs.upload.uploadFiles=[],e.dialogFormVisible=!1},determineUpload:function(){var e=this;console.log(e.$refs.upload.uploadFiles.length),e.$refs.upload.uploadFiles.length>0?e.$message({type:"error",message:"部分图片上传失败"}):this.type?this.size?200==this.code&&e.$message({type:"success",message:"上传成功"}):e.$message({type:"warning",message:"上传文件过大"}):e.$message({type:"warning",message:"重新上传文件类型"}),e.$refs.upload.uploadFiles=[],e.dialogFormVisible=!1,this.$emit("changePageData",this.currentName)}}}),n=i,l=(s("5647"),s("2877")),r=Object(l["a"])(n,a,o,!1,null,"432b021f",null);t["a"]=r.exports}}]);
//# sourceMappingURL=chunk-1c7e259c.8c92ba62.js.map